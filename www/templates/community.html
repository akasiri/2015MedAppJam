<a href="https://icons8.com">Icon pack by Icons8</a>

<ion-view view-title="Community">
  <ion-nav-buttons side="left">
    <a class="button button-clear icon ion-compose" ng-click="toggle_write()"></a>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <a class="button button-clear icon ion-gear-b" href="#/setting"></a>
  </ion-nav-buttons>
  <ion-content>
    <span ng-show="show_write">
    <label class="item item-input item-stacked-label padding">
      <span class="input-label">Share your thoughts</span>
      <textarea ng-model="share.text" class="textarea" ng-class="{'royal': slider.rangeValue==1, 'calm': slider.rangeValue==2, 'assertive': slider.rangeValue==3, 'energized': slider.rangeValue==4, 'balanced': slider.rangeValue==5, 'positive': slider.rangeValue==6}" rows = "3" placeholder = "Hi {{user.firstname}}! What's on your mind?"></textarea>
      <div class="item item-input-inset">
        <label class="item-input-wrapper">
          <input ng-model="mood.text" type="text" class="item-text-wrap" placeholder="How are you feeling? (Not visible to others)">
        </label>
      </div>
    </label>

    <div class="row">
      <div class="col col-75 text-left">
        <div ng-show="slider.rangeValue==0" class="item range range-dark">
          <!--<i class="icon ion-sad-outline"></i> -->
          <i class="icon ion-android-color-palette"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-paintbrush"></i>
        </div>
        <div ng-show="slider.rangeValue==1" class="item range range-royal">
          <i class="icon ion-ios-lightbulb royal"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-ios-lightbulb royal"></i>
        </div>

        <div ng-show="slider.rangeValue==2" class="item range range-calm">
          <i class="icon ion-alert calm"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-alert calm"></i>
        </div>

        <div ng-if="slider.rangeValue==3" class="item range range-assertive">
          <i class="icon ion-heart assertive"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-heart assertive"></i>
        </div>

        <div ng-show="slider.rangeValue==4" class="item range range-energized">
          <!-- Parent Guardian icon by Icons8 -->
          <img class="icon icons8-Parent-Guardian energized-bg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABP0lEQVRIS8WUgTEEMRhG31VAB+iADqgAFRgVoAKuAnRABehAB5RAB1TAvJXs7MTu3k2SyWVmZ+fu5vLyf3n/v6DRWjTisFHQLnAL7Idq34Er4KOk+rQiIW/AdrLpF3BQAktBz8DxxMlfgJPcqlKQJ9+a2Mzo9lqAPgGjzVobi84Ta1ka33ewMNu8sT4SdpfofbmGcZp6PRDmAVjGnGs2rIe7SC7wHvCQ/yaDTareh+HRQqN8DW8Vn1pjxvamxorsD6fBKqvczF4TLNTPcY2BelMFCXnKcvYP6vMI3IQ7Gm7lHfl9F53l7WSC4t+OQpXeU5weytBBIuinEOLfHbpCJpcVlYDsL8VRGN9ng4pipN5nF10u6DwAhMwNY387LQFFY8ckSCNc1gDNTfxe/RqgtaJvCqpg9+otag7VWVoz0C+yYkWIxduhbAAAAABJRU5ErkJggg==" width="26" height="26">
          <!--<i class="icon ion-android-hand energized"></i>-->
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <!--<i class="icon ion-person-stalker energized"></i>-->
          <!-- Parent Guardian icon by Icons8 -->
          <img class="icon icons8-Parent-Guardian energized-bg" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABP0lEQVRIS8WUgTEEMRhG31VAB+iADqgAFRgVoAKuAnRABehAB5RAB1TAvJXs7MTu3k2SyWVmZ+fu5vLyf3n/v6DRWjTisFHQLnAL7Idq34Er4KOk+rQiIW/AdrLpF3BQAktBz8DxxMlfgJPcqlKQJ9+a2Mzo9lqAPgGjzVobi84Ta1ka33ewMNu8sT4SdpfofbmGcZp6PRDmAVjGnGs2rIe7SC7wHvCQ/yaDTareh+HRQqN8DW8Vn1pjxvamxorsD6fBKqvczF4TLNTPcY2BelMFCXnKcvYP6vMI3IQ7Gm7lHfl9F53l7WSC4t+OQpXeU5weytBBIuinEOLfHbpCJpcVlYDsL8VRGN9ng4pipN5nF10u6DwAhMwNY387LQFFY8ckSCNc1gDNTfxe/RqgtaJvCqpg9+otag7VWVoz0C+yYkWIxduhbAAAAABJRU5ErkJggg==" width="26" height="26">
        </div>

        <div ng-show="slider.rangeValue==5" class="item range range-balanced">
          <i class="icon ion-trophy balanced"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-trophy balanced"></i>
        </div>

        <div ng-show="slider.rangeValue==6" class="item range range-positive">
          <i class="icon ion-android-happy positive"></i>
          <input type="range" name="mood" min="0" max="6" value="{{slider.rangeValue}}" ng-model="slider.rangeValue">
          <i class="icon ion-android-happy positive"></i>
        </div>
      </div>

        <div class="col text-right">
          <button class="button button-positive" ng-click="showSubmit()">
            Submit
          </button>
        </div>
    </div>
    </span>

    <label class="item item-input item-select">
      <div class="input-label">
        Recent
      </div>
      <select ng-change="chooseCategory()" ng-model="selectedCategory.text">
        <option value="Recent">Recent</option>
        <option value="Inspirational">Inspirational</option>
        <option value="OMG">OMG</option>
        <option value="<3"><3</option>
        <option value="feel ya">feel ya</option>
        <option value="Congrats~!~">Congrats~!~</option>
        <option value="LOL!">LoL!</option>
      </select>
    </label>

    <!--refresher-->
    <ion-refresher
      pulling-text="Pull to refresh..."
      on-refresh="doRefresh()">
    </ion-refresher>
    <div class="list" ng-repeat="message in messages">

        <div class="padding-left item-text-wrap " >
            {{timeAgo(message.createdAt)}}
            <div class="row"></div>

            <h4 class="paddingRight1" ng-class="{'royal': message.attributes.primaryCategory=='Inspirational', 'calm': message.attributes.primaryCategory=='OMG', 'assertive': message.attributes.primaryCategory=='<3', 'energized': message.attributes.primaryCategory=='feel ya', 'balanced': message.attributes.primaryCategory=='Congrats~!~', 'positive': message.attributes.primaryCategory=='LOL!'}">{{message.attributes.text}}</h4>


          <div class="row item-button-right">
            <div class="col">
              <button class="button button-bar button-small button-royal" ng-click="clickedInspirational(message)">
                Inspired + {{message.attributes.categories.inspirational}}
              </button>
            </div>
            <div class="col">
              <button class="button button-bar button-small button-calm" ng-click="clickedOmg(message)">
                OMG! + {{message.attributes.categories.omg}}
              </button>
            </div>
            <div class="col">
              <button class="button button-bar button-small button-assertive" ng-click="clickedHeart(message)">
                <3 + {{message.attributes.categories.heart}}
              </button>
            </div>
          </div>
          <div class="row item-button-right">
            <div class="col">
              <button class="button button-bar button-small button-energized" ng-click="clickedFeel(message)">
                I feel ya + {{message.attributes.categories.feel}}
              </button>
            </div>
            <div class="col">
              <button class="button button-bar button-small button-balanced" ng-click="clickedGrats(message)">
                Congrats! + {{message.attributes.categories.congrats}}
              </button>
            </div>
            <div class="col">
              <button class="button button-bar button-small button-positive" ng-click="clickedLol(message)">
                LOL! + {{message.attributes.categories.lol}}
              </button>
            </div>

            <button class="button button-clear" ng-click="showFavorite(message)">
              <i class="icon ion-star energized"></i>
            </button>

            <!--<button ng-if="checkInFavorites" class="button button-clear">-->
              <!--<i class="icon ion-star energized"></i>-->
            <!--</button>-->

            <!--<button ng-if="checkInFavorites" class="button button-clear" ng-click="showFavorite(message)">-->
              <!--<i class="icon ion-star"></i>-->
            <!--</button>-->


          </div>
        </div>





    </div>

    </div>

  </ion-content>



</ion-view>

